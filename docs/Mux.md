در این داکیومنت میگم که Mux چیه و فعال بودنش چه مزایا و معایبی داره

از نسخه ۶ به بالا ماکس اتومات فعاله و محاسبه میشه برای حداثر کردن سرعت ؛ پس آموزش زیر رو فقط برای اطلاعات بخوانید ؛ سوییج ها تاثیری نخواهند گذاشت 

# مزایا

1- سخت تر شدن تشخیص تونل توسط هم دیتا سنتر هم فایروال.

2- کاهش هند شیک تام که در v2rayng میشه دید این موضوع را چون کانکشن دوباره استفاده میشه.

# معایب

1- کاهش احتمالی سرعت !

بله ؛ خیلی از دیتا سنتر های ایرانی روی کانکشن هاشون محدودیت سرعت میزارن ؛ اینطوری اگه تعداد کانکشن های بیشتری ساخته بشه سرعت بیشتری دست کاربر میرسه ولی خوب همه جا اینطوری نیست پس بهتره تست کنید این موضوع را 
و بعد اگه متوجه تغییر سرعت شدین ماکس رو غیرفعال کنید.


# توضیحات

بدون ماکس ؛ همه روش های تونل عموما اینطوری هستن که کاربر یه کانکشن به سرور ایران میزنه و سرور ایران هم یه کانکشن به سرور خارج میزنه و اینطوری اتصال برقراره.

اما خوب کاربر فقط با باز کردن یه سایت چندین کانکشن ایجاد میکنه و اگه بخواد کلی برنامه و نرم افزار هم ران داشته باشه مثل تلگرام و غیره شاید ۶۰ تا کانکشن فعال هم داشته باشه
این البته مشکلی نیست تا زمانی که تعداد کاربرا هم زیاد میشه و تعداد کانکشن ها زیاد میشه ؛ کانکشن هایی که کاربر به سرور ایران میزنه هیچ مشکلی نداره و خوبم هست اما مشکل از اونجا شروع میشه که سرور خارج هم باید همینقدر کانکشن به 
سرور ایران داشته باشه دقیقا اندازه کاربر ها ؛ اگه دیتا سنتر از این موضوع استفاده کرده باشه میتونه تونل را تشخیص بده و عملا یا لیمیت روش بزاره یا سرور رو اف کنه و غیره.

ماکس این قابلیت رو ایجاد میکنه که سرور ایران برای هر ۲ تا کانکشن کاربر ؛ یه کانکشن به سرور خارج داشته باشه و اطلاعات اون ۲ تا کانکشنش رو از یه کانکشن عبور بده
البته این عدد ۲ قابل تغییره میتونید زیادترش هم بکنید اگه فکر میکنید دیتاسنترتون خیلی حساسه به این نکته ؛ 
و این عدد با این سوویچ در سرور ایران تنظیم میشه.

> --mux-width:2

حالا فکر میکنم متوجه شده باشین که اگه این عدد رو به جای ۲ بزارید ۱ عملا ماکس غیر فعال شده چون هر کانکشن کاربر میشه یه کاکنشن سرور خارج.

در نسخه پنج که منتشر شده مقدار پیشفرض این سوییچ 1 خواهد بود پس شما اگر خواستید از ماکس استفاده کنید باید این عدد را ۲ یا بیشتر تنظیم کنید وگر نه غیرفعال هست دیفالت.


با همین نکته که راجب کانکشن ها گفتم تمام روش های تونل از ایپی تیبل گرفته تا پنل به پنل ها و FTT و غیره قابل تشخیصه ولی دیتا سنتر ها از این موضوع یا نمیخوان استفاده کنن یا هنوز موفق نشدن ابزارش رو درست کنن که این خبر خوبیه؛
پس نمیتونیم بگیم استفاده از ماکس اجباریه بلکه تا زمانی سرعت مطلوبتونو میگیرید ؛‌ اگه ماکس استفاده بشه امن تره و احتمال تشخیص تونل رو نزدیک به ۰ میکنه.



